(function(){var t,e,i,n,o,s,r,a,l,c;e=window.device,t={},window.device=t,n=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),t.ios=function(){return t.iphone()||t.ipod()||t.ipad()},t.iphone=function(){return!t.windows()&&o("iphone")},t.ipod=function(){return o("ipod")},t.ipad=function(){return o("ipad")},t.android=function(){return!t.windows()&&o("android")},t.androidPhone=function(){return t.android()&&o("mobile")},t.androidTablet=function(){return t.android()&&!o("mobile")},t.blackberry=function(){return o("blackberry")||o("bb10")||o("rim")},t.blackberryPhone=function(){return t.blackberry()&&!o("tablet")},t.blackberryTablet=function(){return t.blackberry()&&o("tablet")},t.windows=function(){return o("windows")},t.windowsPhone=function(){return t.windows()&&o("phone")},t.windowsTablet=function(){return t.windows()&&o("touch")&&!t.windowsPhone()},t.fxos=function(){return(o("(mobile;")||o("(tablet;"))&&o("; rv:")},t.fxosPhone=function(){return t.fxos()&&o("mobile")},t.fxosTablet=function(){return t.fxos()&&o("tablet")},t.meego=function(){return o("meego")},t.cordova=function(){return window.cordova&&"file:"===location.protocol},t.nodeWebkit=function(){return"object"==typeof window.process},t.mobile=function(){return t.androidPhone()||t.iphone()||t.ipod()||t.windowsPhone()||t.blackberryPhone()||t.fxosPhone()||t.meego()},t.tablet=function(){return t.ipad()||t.androidTablet()||t.blackberryTablet()||t.windowsTablet()||t.fxosTablet()},t.desktop=function(){return!t.tablet()&&!t.mobile()},t.television=function(){var t;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],t=0;t<television.length;){if(o(television[t]))return!0;t++}return!1},t.portrait=function(){return window.innerHeight/window.innerWidth>1},t.landscape=function(){return window.innerHeight/window.innerWidth<1},t.noConflict=function(){return window.device=e,this},o=function(t){return-1!==c.indexOf(t)},r=function(t){var e;return e=new RegExp(t,"i"),n.className.match(e)},i=function(t){var e=null;r(t)||(e=n.className.replace(/^\s+|\s+$/g,""),n.className=e+" "+t)},l=function(t){r(t)&&(n.className=n.className.replace(" "+t,""))},t.ios()?t.ipad()?i("ios ipad tablet"):t.iphone()?i("ios iphone mobile"):t.ipod()&&i("ios ipod mobile"):t.android()?i(t.androidTablet()?"android tablet":"android mobile"):t.blackberry()?i(t.blackberryTablet()?"blackberry tablet":"blackberry mobile"):t.windows()?i(t.windowsTablet()?"windows tablet":t.windowsPhone()?"windows mobile":"desktop"):t.fxos()?i(t.fxosTablet()?"fxos tablet":"fxos mobile"):t.meego()?i("meego mobile"):t.nodeWebkit()?i("node-webkit"):t.television()?i("television"):t.desktop()&&i("desktop"),t.cordova()&&i("cordova"),s=function(){t.landscape()?(l("portrait"),i("landscape")):(l("landscape"),i("portrait"))},a=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(a,s,!1):window.attachEvent?window.attachEvent(a,s):window[a]=s,s(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:window.device=t}).call(this),function(t){var e,i,n=t.event;e=n.special.debouncedresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(t,o){var s=this,r=arguments,a=function(){t.type="debouncedresize",n.dispatch.apply(s,r)};i&&clearTimeout(i),o?a():i=setTimeout(a,e.threshold)},threshold:150}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(t){function e(e){var i={},n=/^jQuery\d+$/;return t.each(e.attributes,function(t,e){e.specified&&!n.test(e.name)&&(i[e.name]=e.value)}),i}function i(e,i){var n=this,s=t(this);if(n.value===s.attr(a?"placeholder-x":"placeholder")&&s.hasClass(f.customClass))if(n.value="",s.removeClass(f.customClass),s.data("placeholder-password")){if(s=s.hide().nextAll('input[type="password"]:first').show().attr("id",s.removeAttr("id").data("placeholder-id")),!0===e)return s[0].value=i,i;s.focus()}else n==o()&&n.select()}function n(n){var o,s=this,r=t(this),l=s.id;if(!n||"blur"!==n.type||!r.hasClass(f.customClass))if(""===s.value){if("password"===s.type){if(!r.data("placeholder-textinput")){try{o=r.clone().prop({type:"text"})}catch(i){o=t("<input>").attr(t.extend(e(this),{type:"text"}))}o.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":r,"placeholder-id":l}).bind("focus.placeholder",i),r.data({"placeholder-textinput":o,"placeholder-id":l}).before(o)}s.value="",r=r.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",r.data("placeholder-id")).show()}else{var c=r.data("placeholder-password");c&&(c[0].value="",r.attr("id",r.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}r.addClass(f.customClass),r[0].value=r.attr(a?"placeholder-x":"placeholder")}else r.removeClass(f.customClass)}function o(){try{return document.activeElement}catch(t){}}var s,r,a=!1,l="[object OperaMini]"===Object.prototype.toString.call(window.operamini),c="placeholder"in document.createElement("input")&&!l&&!a,u="placeholder"in document.createElement("textarea")&&!l&&!a,h=t.valHooks,d=t.propHooks,f={};c&&u?(r=t.fn.placeholder=function(){return this},r.input=!0,r.textarea=!0):(r=t.fn.placeholder=function(e){var o={customClass:"placeholder"};return f=t.extend({},o,e),this.filter((c?"textarea":":input")+"["+(a?"placeholder-x":"placeholder")+"]").not("."+f.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":i,"blur.placeholder":n}).data("placeholder-enabled",!0).trigger("blur.placeholder")},r.input=c,r.textarea=u,s={get:function(e){var i=t(e),n=i.data("placeholder-password");return n?n[0].value:i.data("placeholder-enabled")&&i.hasClass(f.customClass)?"":e.value},set:function(e,s){var r,a,l=t(e);return""!==s&&(r=l.data("placeholder-textinput"),a=l.data("placeholder-password"),r?(i.call(r[0],!0,s)||(e.value=s),r[0].value=s):a&&(i.call(e,!0,s)||(a[0].value=s),e.value=s)),l.data("placeholder-enabled")?(""===s?(e.value=s,e!=o()&&n.call(e)):(l.hasClass(f.customClass)&&i.call(e),e.value=s),l):(e.value=s,l)}},c||(h.input=s,d.value=s),u||(h.textarea=s,d.value=s),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t("."+f.customClass,this).each(function(){i.call(this,!0,"")});setTimeout(function(){e.each(n)},10)})}),t(window).bind("beforeunload.placeholder",function(){var e=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(e=!1)}catch(t){}e&&t("."+f.customClass).each(function(){this.value=""})}))});var objectFitImages=function(){"use strict";function t(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+t+"' height='"+e+"'%3E%3C/svg%3E"}function e(t){if(t.srcset&&!m&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}function i(t){for(var e,i=getComputedStyle(t).fontFamily,n={};null!==(e=u.exec(i));)n[e[1]]=e[2];return n}function n(e,i,n){var o=t(i||1,n||0);v.call(e,"src")!==o&&w.call(e,"src",o)}function o(t,e){t.naturalWidth?e(t):setTimeout(o,100,t,e)}function s(t){var s=i(t),a=t[c];if(s["object-fit"]=s["object-fit"]||"fill",!a.img){if("fill"===s["object-fit"])return;if(!a.skipTest&&d&&!s["object-position"])return}if(!a.img){a.img=new Image(t.width,t.height),a.img.srcset=v.call(t,"data-ofi-srcset")||t.srcset,a.img.src=v.call(t,"data-ofi-src")||t.src,w.call(t,"data-ofi-src",t.src),t.srcset&&w.call(t,"data-ofi-srcset",t.srcset),n(t,t.naturalWidth||t.width,t.naturalHeight||t.height),t.srcset&&(t.srcset="");try{r(t)}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}e(a.img),t.style.backgroundImage='url("'+(a.img.currentSrc||a.img.src).replace(/"/g,'\\"')+'")',t.style.backgroundPosition=s["object-position"]||"center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",/scale-down/.test(s["object-fit"])?o(a.img,function(){a.img.naturalWidth>t.width||a.img.naturalHeight>t.height?t.style.backgroundSize="contain":t.style.backgroundSize="auto"}):t.style.backgroundSize=s["object-fit"].replace("none","auto").replace("fill","100% 100%"),o(a.img,function(e){n(t,e.naturalWidth,e.naturalHeight)})}function r(t){var e={get:function(e){return t[c].img[e||"src"]},set:function(e,i){return t[c].img[i||"src"]=e,w.call(t,"data-ofi-"+i,e),s(t),e}};Object.defineProperty(t,"src",e),Object.defineProperty(t,"currentSrc",{get:function(){return e.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return e.get("srcset")},set:function(t){return e.set(t,"srcset")}})}function a(){function t(t,e){return t[c]&&t[c].img&&("src"===e||"srcset"===e)?t[c].img:t}f||(HTMLImageElement.prototype.getAttribute=function(e){return v.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,i){return w.call(t(this,e),e,String(i))})}function l(t,e){var i=!b&&!t;if(e=e||{},t=t||"img",f&&!e.skipTest||!p)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var n=0;n<t.length;n++)t[n][c]=t[n][c]||{skipTest:e.skipTest},s(t[n]);i&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&l(t.target,{skipTest:e.skipTest})},!0),b=!0,t="img"),e.watchMQ&&window.addEventListener("resize",l.bind(null,t,{skipTest:e.skipTest}))}var c="bfred-it:object-fit-images",u=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,h="undefined"==typeof Image?{style:{"object-position":1}}:new Image,d="object-fit"in h.style,f="object-position"in h.style,p="background-size"in h.style,m="string"==typeof h.currentSrc,v=h.getAttribute,w=h.setAttribute,b=!1;return l.supportsObjectFit=d,l.supportsObjectPosition=f,a(),l}();!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.stickybits=e()}(this,function(){"use strict";var t=function(){function t(t,e){var i=void 0!==e?e:{};this.version="3.3.2",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={customStickyChangeNumber:i.customStickyChangeNumber||null,noStyles:i.noStyles||!1,stickyBitStickyOffset:i.stickyBitStickyOffset||0,parentClass:i.parentClass||"js-stickybit-parent",scrollEl:document.querySelector(i.scrollEl)||window,stickyClass:i.stickyClass||"js-is-sticky",stuckClass:i.stuckClass||"js-is-stuck",stickyChangeClass:i.stickyChangeClass||"js-is-sticky--change",useStickyClasses:i.useStickyClasses||!1,verticalPosition:i.verticalPosition||"top"};var n=this.props;n.positionVal=this.definePosition()||"fixed";var o=n.verticalPosition,s=n.noStyles,r=n.positionVal;this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]),this.instances=[];for(var a=0;a<this.els.length;a+=1){var l=this.els[a],c=l.style;if(c[o]="top"!==o||s?"":n.stickyBitStickyOffset+"px",c.position="fixed"!==r?r:"","fixed"===r||n.useStickyClasses){var u=this.addInstance(l,n);this.instances.push(u)}}return this}var e=t.prototype;return e.definePosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],e=document.head.style,i=0;i<t.length;i+=1)e.position=t[i]+"sticky";var n=e.position?e.position:"fixed";return e.position="",n},e.addInstance=function(t,e){var i=this,n={el:t,parent:t.parentNode,props:e};this.isWin=this.props.scrollEl===window;var o=this.isWin?window:this.getClosestParent(n.el,n.props.scrollEl);return this.computeScrollOffsets(n),n.parent.className+=" "+e.parentClass,n.state="default",n.stateContainer=function(){return i.manageState(n)},o.addEventListener("scroll",n.stateContainer),n},e.getClosestParent=function(t,e){var i=e,n=t;if(n.parentElement===i)return i;for(;n.parentElement!==i;)n=n.parentElement;return i},e.getOffsetTop=function(t){var e=0;do{e=t.offsetTop+e}while(t=t.offsetParent);return e},e.computeScrollOffsets=function(t){var e=t,i=e.props,n=e.el,o=e.parent,s=!this.isWin&&"fixed"===i.positionVal,r="bottom"!==i.verticalPosition,a=s?this.getOffsetTop(i.scrollEl):0,l=s?this.getOffsetTop(o)-a:this.getOffsetTop(o),c=null!==i.customStickyChangeNumber?i.customStickyChangeNumber:n.offsetHeight;return e.offset=a+i.stickyBitStickyOffset,e.stickyStart=r?l-e.offset:0,e.stickyChange=e.stickyStart+c,e.stickyStop=r?l+o.offsetHeight-(e.el.offsetHeight+e.offset):l+o.offsetHeight,e},e.toggleClasses=function(t,e,i){var n=t,o=n.className.split(" ");i&&-1===o.indexOf(i)&&o.push(i);var s=o.indexOf(e);-1!==s&&o.splice(s,1),n.className=o.join(" ")},e.manageState=function(t){var e=t,i=e.el,n=e.props,o=e.state,s=e.stickyStart,r=e.stickyChange,a=e.stickyStop,l=i.style,c=n.noStyles,u=n.positionVal,h=n.scrollEl,d=n.stickyClass,f=n.stickyChangeClass,p=n.stuckClass,m=n.verticalPosition,v=function(t){t()},w=this.isWin&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)||v,b=this.toggleClasses,y=this.isWin?window.scrollY||window.pageYOffset:h.scrollTop,g=y<=s&&"sticky"===o,k=y>=a&&"sticky"===o;y>s&&y<a&&("default"===o||"stuck"===o)?(e.state="sticky",w(function(){b(i,p,d),l.position=u,c||(l.bottom="",l[m]=n.stickyBitStickyOffset+"px")})):g?(e.state="default",w(function(){b(i,d),"fixed"===u&&(l.position="")})):k&&(e.state="stuck",w(function(){b(i,d,p),"fixed"!==u||c||(l.top="",l.bottom="0",l.position="absolute")}));var C=y>=r&&y<=a;return y<r||y>a?w(function(){b(i,f)}):C&&w(function(){b(i,"stub",f)}),e},e.update=function(){for(var t=0;t<this.instances.length;t+=1){var e=this.instances[t];this.computeScrollOffsets(e)}return this},e.removeInstance=function(t){var e=t.el,i=t.props,n=this.toggleClasses;e.style.position="",e.style[i.verticalPosition]="",n(e,i.stickyClass),n(e,i.stuckClass),n(e.parentNode,i.parentClass)},e.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var e=this.instances[t];e.props.scrollEl.removeEventListener("scroll",e.stateContainer),this.removeInstance(e)}this.manageState=!1,this.instances=[]},t}();return function(e,i){return new t(e,i)}}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Parallax=t()}(function(){return function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,l=n(t),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)s.call(i,u)&&(l[u]=i[u]);if(o){a=o(i);for(var h=0;h<a.length;h++)r.call(i,a[h])&&(l[a[h]]=i[a[h]])}}return l}},{}],2:[function(t,e,i){(function(t){(function(){var i,n,o,s,r,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(i()-r)/1e6},n=t.hrtime,s=(i=function(){var t;return 1e9*(t=n())[0]+t[1]})(),a=1e9*t.uptime(),r=s-a):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:3}],3:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?m=p.concat(m):w=-1,m.length&&l())}function l(){if(!v){var t=s(a);v=!0;for(var e=m.length;e;){for(p=m,m=[];++w<e;)p&&p[w].run();w=-1,e=m.length}p=null,v=!1,r(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var h,d,f=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(t){d=o}}();var p,m=[],v=!1,w=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];m.push(new c(t,e)),1!==m.length||v||s(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],4:[function(t,e,i){(function(i){for(var n=t("performance-now"),o="undefined"==typeof window?i:window,s=["moz","webkit"],r="AnimationFrame",a=o["request"+r],l=o["cancel"+r]||o["cancelRequest"+r],c=0;!a&&c<s.length;c++)a=o[s[c]+"Request"+r],l=o[s[c]+"Cancel"+r]||o[s[c]+"CancelRequest"+r];if(!a||!l){var u=0,h=0,d=[];a=function(t){if(0===d.length){var e=n(),i=Math.max(0,1e3/60-(e-u));u=i+e,setTimeout(function(){var t=d.slice(0);d.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(u)}catch(t){setTimeout(function(){throw t},0)}},Math.round(i))}return d.push({handle:++h,callback:t,cancelled:!1}),h},l=function(t){for(var e=0;e<d.length;e++)d[e].handle===t&&(d[e].cancelled=!0)}}e.exports=function(t){return a.call(o,t)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=a,o.cancelAnimationFrame=l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("raf"),r=t("object-assign"),a={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(t,e,i){return e<i?t<e?e:t>i?i:t:t<i?i:t>e?e:t},data:function(t,e){return a.deserialize(t.getAttribute("data-"+e))},deserialize:function(t){return"true"===t||"false"!==t&&("null"===t?null:!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(t):t)},camelCase:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},accelerate:function(t){a.css(t,"transform","translate3d(0,0,0) rotate(0.0001deg)"),a.css(t,"transform-style","preserve-3d"),a.css(t,"backface-visibility","hidden")},transformSupport:function(t){for(var e=document.createElement("div"),i=!1,n=null,o=!1,s=null,r=null,l=0,c=a.vendors.length;l<c;l++)if(null!==a.vendors[l]?(s=a.vendors[l][0]+"transform",r=a.vendors[l][1]+"Transform"):(s="transform",r="transform"),void 0!==e.style[r]){i=!0;break}switch(t){case"2D":o=i;break;case"3D":if(i){var u=document.body||document.createElement("body"),h=document.documentElement,d=h.style.overflow,f=!1;document.body||(f=!0,h.style.overflow="hidden",h.appendChild(u),u.style.overflow="hidden",u.style.background=""),u.appendChild(e),e.style[r]="translate3d(1px,1px,1px)",o=void 0!==(n=window.getComputedStyle(e).getPropertyValue(s))&&n.length>0&&"none"!==n,h.style.overflow=d,u.removeChild(e),f&&(u.removeAttribute("style"),u.parentNode.removeChild(u))}}return o},css:function(t,e,i){var n=a.propertyCache[e];if(!n)for(var o=0,s=a.vendors.length;o<s;o++)if(n=null!==a.vendors[o]?a.camelCase(a.vendors[o][1]+"-"+e):e,void 0!==t.style[n]){a.propertyCache[e]=n;break}t.style[n]=i}},l={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},c=function(){function t(e,i){n(this,t),this.element=e;var o={calibrateX:a.data(this.element,"calibrate-x"),calibrateY:a.data(this.element,"calibrate-y"),invertX:a.data(this.element,"invert-x"),invertY:a.data(this.element,"invert-y"),limitX:a.data(this.element,"limit-x"),limitY:a.data(this.element,"limit-y"),scalarX:a.data(this.element,"scalar-x"),scalarY:a.data(this.element,"scalar-y"),frictionX:a.data(this.element,"friction-x"),frictionY:a.data(this.element,"friction-y"),originX:a.data(this.element,"origin-x"),originY:a.data(this.element,"origin-y"),pointerEvents:a.data(this.element,"pointer-events"),precision:a.data(this.element,"precision"),relativeInput:a.data(this.element,"relative-input"),clipRelativeInput:a.data(this.element,"clip-relative-input"),hoverOnly:a.data(this.element,"hover-only"),inputElement:document.querySelector(a.data(this.element,"input-element")),selector:a.data(this.element,"selector")};for(var s in o)null===o[s]&&delete o[s];r(this,l,o,i),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return o(t,[{key:"initialise",value:function(){void 0===this.transform2DSupport&&(this.transform2DSupport=a.transformSupport("2D"),this.transform3DSupport=a.transformSupport("3D")),this.transform3DSupport&&a.accelerate(this.element),"static"===window.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var t=0;t<this.layers.length;t++){var e=this.layers[t];this.transform3DSupport&&a.accelerate(e),e.style.position=t?"absolute":"relative",e.style.display="block",e.style.left=0,e.style.top=0;var i=a.data(e,"depth")||0;this.depthsX.push(a.data(e,"depth-x")||i),this.depthsY.push(a.data(e,"depth-y")||i)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(t){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,t)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=s(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),s.cancel(this.raf))}},{key:"calibrate",value:function(t,e){this.calibrateX=void 0===t?this.calibrateX:t,this.calibrateY=void 0===e?this.calibrateY:e}},{key:"invert",value:function(t,e){this.invertX=void 0===t?this.invertX:t,this.invertY=void 0===e?this.invertY:e}},{key:"friction",value:function(t,e){this.frictionX=void 0===t?this.frictionX:t,this.frictionY=void 0===e?this.frictionY:e}},{key:"scalar",value:function(t,e){this.scalarX=void 0===t?this.scalarX:t,this.scalarY=void 0===e?this.scalarY:e}},{key:"limit",value:function(t,e){this.limitX=void 0===t?this.limitX:t,this.limitY=void 0===e?this.limitY:e}},{key:"origin",value:function(t,e){this.originX=void 0===t?this.originX:t,this.originY=void 0===e?this.originY:e}},{key:"setInputElement",value:function(t){this.inputElement=t,this.updateDimensions()}},{key:"setPosition",value:function(t,e,i){e=e.toFixed(this.precision)+"px",i=i.toFixed(this.precision)+"px",this.transform3DSupport?a.css(t,"transform","translate3d("+e+","+i+",0)"):this.transform2DSupport?a.css(t,"transform","translate("+e+","+i+")"):(t.style.left=e,t.style.top=i)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&0===this.orientationStatus?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&0===this.motionStatus?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var t=this.inputX-this.calibrationX,e=this.inputY-this.calibrationY;(Math.abs(t)>this.calibrationThreshold||Math.abs(e)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?e:this.inputY,this.motionY=this.calibrateY?t:this.inputX):(this.motionX=this.calibrateX?t:this.inputX,this.motionY=this.calibrateY?e:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=a.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=a.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var i=0;i<this.layers.length;i++){var n=this.layers[i],o=this.depthsX[i],r=this.depthsY[i],l=this.velocityX*(o*(this.invertX?-1:1)),c=this.velocityY*(r*(this.invertY?-1:1));this.setPosition(n,l,c)}this.raf=s(this.onAnimationFrame)}},{key:"rotate",value:function(t,e){var i=(t||0)/30,n=(e||0)/30,o=this.windowHeight>this.windowWidth;this.portrait!==o&&(this.portrait=o,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=i,this.calibrationY=n),this.inputX=i,this.inputY=n}},{key:"onDeviceOrientation",value:function(t){var e=t.beta,i=t.gamma;null!==e&&null!==i&&(this.orientationStatus=1,this.rotate(e,i))}},{key:"onDeviceMotion",value:function(t){var e=t.rotationRate.beta,i=t.rotationRate.gamma;null!==e&&null!==i&&(this.motionStatus=1,this.rotate(e,i))}},{key:"onMouseMove",value:function(t){var e=t.clientX,i=t.clientY;if(this.hoverOnly&&(e<this.elementPositionX||e>this.elementPositionX+this.elementWidth||i<this.elementPositionY||i>this.elementPositionY+this.elementHeight))return this.inputX=0,void(this.inputY=0);this.relativeInput?(this.clipRelativeInput&&(e=Math.max(e,this.elementPositionX),e=Math.min(e,this.elementPositionX+this.elementWidth),i=Math.max(i,this.elementPositionY),i=Math.min(i,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(e-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(i-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(e-this.windowCenterX)/this.windowRadiusX,this.inputY=(i-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var t=0;t<this.layers.length;t++)this.layers[t].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),t}();e.exports=c},{"object-assign":1,raf:4}]},{},[5])(5)});